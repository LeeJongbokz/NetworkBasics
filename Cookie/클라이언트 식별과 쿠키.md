


## 클라이언트 식별과 쿠키

- 웹 서버는 서로 다른 수천 개의 클라이언트들과 동시에 통신함  
  이 서버들은 익명의 클라이언트로부터 받는 모든 요청을 처리하는 것뿐만 아니라  
  서버와 통신하고 있는 클라이언트를 추적해야 할 수도 있음  
  
  
  
### 쿠키

- 쿠키는 사용자를 식별하고 세션을 유지하는 방식 중에서 현재까지 가장 널리 사용하는 방식임  
  쿠키는 넷스케이프가 최초로 개발했지만, 지금은 모든 브라우저에서 지원함.  
  
- 쿠키는 매우 중요한 웹 기술일 뿐만 아니라 새로운 HTTP 헤더를 정의하므로,  
  앞서 다룬 기술들보다 더 자세히 살펴볼 것임  
  쿠키는 캐시와 충돌할 수 있어서, 대부분의 캐시나 브라우저는 쿠키에 있는 내용물을  
  캐싱하지 않음.  
  
  
#### 쿠키의 타입  
  
- 쿠키는 크게 세션 쿠키(session cookie)와 지속 쿠키(persistent cookie) 두 가지 타입으로 나눌 수 있음  
  세션 쿠키는 사용자가 사이트를 탐색할 때, 관련한 설정과 선호 사항들을 저장하는 임시 쿠키임.  
  세션 쿠키는 사용자가 브라우저를 닫으면 삭제됨.  
  지속 쿠키는 디스크에 저장되어, 브라우저를 닫거나 컴퓨터를 재시작하더라도 남아 있음.  
  지속 쿠키는 사용자가 주기적으로 방문하는 사이트에 대한 설정 정보나 로그인 이름을 유지하려고 사용함.  
  
- 세션 쿠키와 지속 쿠키의 다른 점은 파기되는 시점뿐임.  
  뒤에서 다룰 것이지만, 쿠키는 Discard 파라미터가 설정되어 있거나,  
  파기되기까지 남은 시간을 가리키는 Expires 혹은 Max-Age 파라미터가 없으면 세션 쿠키가 됨.  
  
  
#### 쿠키는 어떻게 동작하는가

- 쿠키는 서버가 사용자에게 "안녕, 내 이름은..."라고 적어서 붙이는 스티커와 같음.  
  사용자가 웹 사이트에 방문하면, 웹 사이트는 서버가 사용자에게 붙인 모든 스티커를 읽을 수 있음  
  
- 처음에 사용자가 웹 사이트에 방문하면 웹 서버는 사용자에 대해서 아무것도 모름  
  웹 서버는 사용자가 다시 돌아왔을 때 해당 사용자를 식별하기 위한 유일한 값을 쿠키에 할당함.  
  쿠키는 임의의 이름=값 형태의 리스트를 가지고,  
  그 리스트는 Set-Cookie 혹은 Set-Cookie2(확장 헤더) 같은 HTTP 응답 헤더에 기술되어 사용자에게 전달함.  
  
- 쿠키는 어떤 정보든 포함할 수 있지만, 서버가 사용자 추적 용도로 생성한 유일한 단순 식별 번호만 포함하기도 함  
    
  
  
